(this["webpackJsonprss-reader-react"]=this["webpackJsonprss-reader-react"]||[]).push([[0],{54:function(e,t,a){e.exports=a.p+"static/media/spinner.c191d5c0.svg"},57:function(e,t,a){e.exports=a(88)},85:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),l=a.n(c),u=a(6),o=a.n(u),i=a(12),s=a(18),p=a(31),d=a(11),E=function(e,t){switch(t.type){case"GET_URLS":return Object(d.a)({},e,{loading:!1,urls:t.payload});case"GET_ARTICLES":return Object(d.a)({},e,{loading:!1,articles:t.payload});case"GET_ARTICLES_FILTERED":return Object(d.a)({},e,{loading:!1,articlesFiltered:t.payload});case"CLICK_FILTER":return Object(d.a)({},e,{loading:!1,clickFilterBtn:!e.clickFilterBtn});case"GET_KEYWORDS":return Object(d.a)({},e,{loading:!1,keywords:t.payload});case"DELETE_URL":return Object(d.a)({},e,{urls:e.urls.filter((function(e){return e._id!==t.payload}))});case"DELETE_KEYWORD":return Object(d.a)({},e,{keywords:e.keywords.filter((function(e){return e._id!==t.payload}))});case"ADD_URL":return Object(d.a)({},e,{urls:[].concat(Object(p.a)(e.urls),[t.payload])});case"ADD_KEYWORD":return Object(d.a)({},e,{keywords:[].concat(Object(p.a)(e.keywords),[t.payload])});case"URL_ERROR":return Object(d.a)({},e,{error:t.payload});default:return e}},m=a(14),f=a.n(m);function y(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}var v={urls:[],articles:[],keywords:[],articlesFiltered:[],error:null,loading:!0,clickFilterBtn:!0},h=Object(r.createContext)(v),b=function(e){var t=e.children,a=Object(r.useReducer)(E,v),c=Object(s.a)(a,2),l=c[0],u=c[1];function p(){return(p=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({type:"CLICK_FILTER",payload:t});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/urls");case 3:t=e.sent,u({type:"GET_URLS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u({type:"URL_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(){return(m=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/articlesFiltered");case 3:t=e.sent,u({type:"GET_ARTICLES_FILTERED",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u({type:"ARTICLES_FILTERED_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/articles");case 3:t=e.sent,u({type:"GET_ARTICLES",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u({type:"ARTICLES_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return(k=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/v1/keywords");case 3:t=e.sent,u({type:"GET_KEYWORDS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u({type:"KEYWORD_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(){return(R=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/v1/keywords/".concat(t));case 3:u({type:"DELETE_KEYWORD",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),u({type:"KEYWORD_ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function w(){return(w=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/v1/urls/".concat(t));case 3:u({type:"DELETE_URL",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),u({type:"URL_ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function O(){return(O=Object(i.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,f.a.post("/api/v1/urls",y(t.urlText)?t:"",a);case 4:r=e.sent,u({type:"ADD_URL",payload:r.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u({type:"URL_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function x(){return(x=Object(i.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,f.a.post("/api/v1/keywords",t,a);case 4:r=e.sent,u({type:"ADD_KEYWORD",payload:r.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u({type:"KEYWORD_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return n.a.createElement(h.Provider,{value:{urls:l.urls,articles:l.articles,articlesFiltered:l.articlesFiltered,keywords:l.keywords,error:l.error,loading:l.loading,clickFilterBtn:l.clickFilterBtn,clickFilter:function(e){return p.apply(this,arguments)},getUrls:function(){return d.apply(this,arguments)},deleteUrl:function(e){return w.apply(this,arguments)},addUrl:function(e){return O.apply(this,arguments)},getArticles:function(){return b.apply(this,arguments)},getArticlesFiltered:function(){return m.apply(this,arguments)},getKeywords:function(){return k.apply(this,arguments)},deleteKeyword:function(e){return R.apply(this,arguments)},addKeyword:function(e){return x.apply(this,arguments)}}},t)},k=function(e){var t=e.url,a=Object(r.useContext)(h).deleteUrl;return n.a.createElement("li",null,t.urlText," ",n.a.createElement("button",{onClick:function(){return a(t._id)},className:"delete-btn"},"x"))},R=function(){var e=Object(r.useContext)(h),t=e.urls,a=e.getUrls;return Object(r.useEffect)((function(){a()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Current websites"),n.a.createElement("ul",{className:"list"},t.map((function(e){return n.a.createElement(k,{key:e._id,url:e})}))))},w=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(r.useContext)(h).addUrl;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Add new RSS feed"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l({urlText:a})}},n.a.createElement("div",null,n.a.createElement("input",{type:"urlText",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Enter url..."})),n.a.createElement("button",{className:"btn"},"Add url")))},O=function(e){var t=e.keyword,a=Object(r.useContext)(h).deleteKeyword;return n.a.createElement("li",null,t.keywordText," ",n.a.createElement("button",{onClick:function(){return a(t._id)},className:"delete-btn"},"x"))},x=function(){var e=Object(r.useContext)(h),t=e.keywords,a=e.getKeywords;return Object(r.useEffect)((function(){a()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Current keywords"),n.a.createElement("ul",{className:"list"},t.map((function(e){return n.a.createElement(O,{key:e._id,keyword:e})}))))},g=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(r.useContext)(h).addKeyword;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Add new keyword"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l({keywordText:a})}},n.a.createElement("div",null,n.a.createElement("input",{type:"keywordText",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Enter keyword..."})),n.a.createElement("button",{className:"btn"},"Add keyword")))},j=a(90),_=function(e){return n.a.createElement(j.a,null,e.children)},L=a(45),T=a(91),C=a(92);function F(){var e=Object(L.a)(["\n  .navbar {\n    background-color: #222;\n  }\n\n  .navbar-brand,\n  .navbar-nav .nav-link {\n    color: #bbb;\n\n    &:hover {\n      color: white;\n    }\n  }\n"]);return F=function(){return e},e}var D=a(46).a.div(F()),A=function(){return n.a.createElement(D,null,n.a.createElement(T.a,{expand:"lg"},n.a.createElement(T.a.Brand,{href:"/"},"RSS reader"),n.a.createElement(T.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(T.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(C.a,{className:"ml-auto"},n.a.createElement(C.a.Item,null,n.a.createElement(C.a.Link,{href:"/"},"Articles")),n.a.createElement(C.a.Item,null,n.a.createElement(C.a.Link,{href:"/settings"},"RSS-feeds")),n.a.createElement(C.a.Item,null,n.a.createElement(C.a.Link,{href:"/keywords"},"Keywords"))))))},S=a(55),K=a(3),U=a(24),I=function(e){var t=e.article;return n.a.createElement("li",null,n.a.createElement(U.ReactTinyLink,{cardSize:"small",showGraphic:!0,maxLine:1,minLine:1,url:t.link,width:60,proxyUrl:"https://cors-anywhere.herokuapp.com"}))},N=function(e){var t=e.link;return n.a.createElement("li",null,n.a.createElement(U.ReactTinyLink,{cardSize:"small",showGraphic:!0,maxLine:2,minLine:1,url:t,width:60}))},G=function(e){var t=e.filter,a=e.array;return n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("h2",null," ",a.length>0?"Keyword name is - ".concat(t," and there are ").concat(a.length," articles that use it"):" "),n.a.createElement("br",null),a.map((function(e){return n.a.createElement(N,{link:e.link})})))},z=a(54),W=a.n(z),Y=function(){var e=Object(r.useContext)(h),t=e.articles,a=e.clickFilterBtn,c=e.clickFilter,l=e.getArticles,u=e.articlesFiltered,o=e.getArticlesFiltered,i=e.loading;Object(r.useEffect)((function(){l(),o()}),[]);var s=t.map((function(e,t){return n.a.createElement(I,{key:t,article:e})}));var p=u.sort((function(e,t){return e.filterArray<t.filterArray?1:e.filterArray>t.filterArray?-1:0})).map((function(e,t){return n.a.createElement(G,{key:t,filter:e.filter,array:e.filterArray})}));return i?n.a.createElement("img",{className:"loader",src:W.a,alt:"loading..."}):n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"btn",onClick:c},a?"Filter articles":"Unfilter articles"),a?n.a.createElement("div",null," ",n.a.createElement("h3",null,"Current feed"),n.a.createElement("ul",{className:"list"},s)):n.a.createElement("div",null," ",n.a.createElement("h3",null,"Filtered feed"),n.a.createElement("ul",{className:"list"},p)))};a(85);var B=function(){return n.a.createElement(b,null,n.a.createElement(A,null),n.a.createElement(_,null,n.a.createElement(S.a,null,n.a.createElement("div",{className:"container"},n.a.createElement(K.a,{path:"/",exact:!0,component:Y}),n.a.createElement(K.a,{path:"/settings",exact:!0,component:R}),n.a.createElement(K.a,{path:"/settings",exact:!0,component:w}),n.a.createElement(K.a,{path:"/keywords",exact:!0,component:x}),n.a.createElement(K.a,{path:"/keywords",exact:!0,component:g})))))};l.a.render(n.a.createElement(B,null),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.2061c986.chunk.js.map